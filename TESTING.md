# Testing

This is a TESTING file for the Root|Me project

Return to README.md [here! ](https://github.com/ElinaBoman/rootme)

## Table of Contents

- [Validation](#validation)
- [HTML](#html)
- [CSS](#css)
  - [JavaScript](#javascript)
  - [Python](#python)
- [Manual Testing](#manual-testing)
- [User Stories Testing](#user-stories-testing)
- [Project Bugs and Solutions](#project-bugs-and-solutions)
- [Browser Testing](#browser-testing)
- [Lighthouse Report](#lighthouse-report)
- [Responsiveness](#responsiveness)
- [Real World Device Testing](#real-world-device-testing)

## Validation
### HTML
<details>
<summary>Basket/base/footer</summary>

![Basket](/docs/readme/w3-html-validation/basket-base-mobilenav.png)
</details>

<details>
<summary>Checkout</summary>

![Checkout](/docs/readme/w3-html-validation/checkout.png)
</details>

<details>
<summary>Contact</summary>

![Contact error](/docs/readme/w3-html-validation/contact.png)
</details>

<details>
<summary>Home</summary>

![Home](/docs/readme/w3-html-validation/home.png)
</details>

<details>
<summary>Login</summary>

![Login](/docs/readme/w3-html-validation/home.png)
</details>

<details>
<summary>My profile</summary>

![My Profile](/docs/readme/w3-html-validation/my-profile.png)
</details>

<details>
<summary>Product</summary>

![Product](/docs/readme/w3-html-validation/product.png)
</details>

<details>
<summary>Register</summary>

![Register](/docs/readme/w3-html-validation/register.png)
</details>

<details>
<summary>Sign out</summary>

![Signout](/docs/readme/w3-html-validation/signout.png)
</details>

<details>
<summary>Wishlist</summary>

![Wishlist](/docs/readme/w3-html-validation/wishlist.png)
</details>

### CSS

<details>
<summary>CSS</summary>

![CSS](/docs/readme/w3-css-validation/w3-css-validation.png)
</details>

### JavaScript

<details>
<summary>add_product.html</summary>

![Add product](/docs/readme/js-testing/add-product-script.png)
</details>

<details>

<summary>basket.html</summary>

![Basket](/docs/readme/js-testing/basket-script.png)
</details>

<details>
<summary>products.html</summary>

![Products](/docs/readme/js-testing/products-script.png)
</details>

<details>
<summary>quantity_input.html</summary>

![Qty input](/docs/readme/js-testing/qnt-input-script.png)
</details>

<details>

<summary>stripe_elements.js</summary>

![Stripe](/docs/readme/js-testing/stripe-elements-js.png)
</details>

### Python
#### Basket

<details>

<summary>basket_tools</summary>

![basket_tools](/docs/readme/pep8-testing/basket-p8-basket_tools.png)
</details>

<details>

<summary>basket urls</summary>

![urls](/docs/readme/pep8-testing/basket-p8-urls.png)
</details>

<details>

<summary>views</summary>

![views](/docs/readme/pep8-testing/basket-p8-views.png)
</details>

<details>

<summary>context</summary>

![context](/docs/readme/pep8-testing/basket-p8-context.png)
</details>

#### Checkout

<details>


<summary>admin</summary>

![admin](/docs/readme/pep8-testing/checkout-pep8-admin.png)
</details>

<details>

<summary>models</summary>

![models](/docs/readme/pep8-testing/checkout-pep8-models.png)
</details>

<details>

<summary>signals</summary>

![signals](/docs/readme/pep8-testing/checkout-pep8-signals.png)
</details>

<details>

<summary>urls</summary>

![urls](/docs/readme/pep8-testing/checkout-pep8-urls.png)
</details>

<details>

<summary>views</summary>

![views](/docs/readme/pep8-testing/checkout-pep8-views.png)
</details>

<details>

<summary>webhook_handler</summary>

![webhook_handler](/docs/readme/pep8-testing/checkout-pep8-webhook_handler.png)
</details>

<details>

<summary>webhook</summary>

![webhook](/docs/readme/pep8-testing/checkout-pep8-webook.png)
</details>

<details>

<summary>form</summary>

![form](/docs/readme/pep8-testing/checkout-pep8-form.png)
</details>

<details>

<summary>models</summary>

![models](/docs/readme/pep8-testing/checkout-pep8-models.png)
</details>

#### Contact

<details>

<summary>admin</summary>

![admin](/docs/readme/pep8-testing/contact-pep8-admin.png)
</details>

<details>

<summary>forms</summary>

![forms](/docs/readme/pep8-testing/contact-pep8-forms.png)
</details>

<details>

<summary>models</summary>

![models](/docs/readme/pep8-testing/contact-pep8-models.png)
</details>

<details>

<summary>urls</summary>

![urls](/docs/readme/pep8-testing/contact-pep8-urls.png)
</details>

<details>

<summary>views</summary>

![views](/docs/readme/pep8-testing/contact-pep8-views.png)
</details>

#### Home

<details>

<summary>home</summary>

![home](/docs/readme/pep8-testing/home-pep8-home.png)
</details>

<details>

<summary>urls</summary>

![urls](/docs/readme/pep8-testing/home-pep8-urls.png)
</details>

#### Products

<details>

<summary>admin</summary>

![admin](/docs/readme/pep8-testing/products-pep8-admin.png)
</details>

<details>

<summary>forms</summary>

![forms](/docs/readme/pep8-testing/products-pep8-forms.png)
</details>

<details>

<summary>models</summary>

![models](/docs/readme/pep8-testing/products-pep8-models.png)
</details>

<details>

<summary>urls</summary>

![urls](/docs/readme/pep8-testing/products-pep8-urls.png)
</details>

<details>

<summary>views</summary>

![views](/docs/readme/pep8-testing/profiles-pep8-views.png)
</details>

<details>

<summary>widgets</summary>

![widgets](/docs/readme/pep8-testing/products-pep8-widgets.png)
</details>

#### Profiles

<details>

<summary>admin</summary>

![admin](/docs/readme/pep8-testing/profiles-pep8-admin.png)
</details>

<details>

<summary>forms</summary>

![forms](/docs/readme/pep8-testing/profiles-pep8-forms.png)
</details>

<details>

<summary>models</summary>

![models](/docs/readme/pep8-testing/profiles-pep8-models.png)
</details>

<details>

<summary>urls</summary>

![urls](/docs/readme/pep8-testing/profiles-pep8-urls.png)
</details>

<details>

<summary>views</summary>

![views](/docs/readme/pep8-testing/profiles-pep8-views.png)

</details>


#### Root Me

<details>

<summary>urls</summary>

![views](/docs/readme/pep8-testing/rootme-pep8-urls.png)

</details>


#### Wishlist

<details>

<summary>admin</summary>

![admin](/docs/readme/pep8-testing/wishlist-pep8-admin.png)
</details>

<details>

<summary>models</summary>

![models](/docs/readme/pep8-testing/wishlist-pep8-models.png)
</details>

<details>

<summary>urls</summary>

![urls ](/docs/readme/pep8-testing/wishlist-pep8-urls.png)
</details>

<details>

<summary>views</summary>

![views](/docs/readme/pep8-testing/wishlist-pep8-views.png)
</details>


## Manual Testing


| Feature              | Action                                                                                  | Expected Result                                         | TESTED | Remark                                                                                                                                                             |
|----------------------|-----------------------------------------------------------------------------------------|----------------------------------------------------------|--------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Register user        | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
| Input fields         | Try entering wrong information in fields<br>Enter correct information                   | Input fields work as expected                          | YES    | -                                                                                                                                                                  |
| Registration         | Try registering for an account                                                          | User can register                                      | YES    | -                                                                                                                                                                  |
| Email confirmation   | Check email for verification                                                           | User gets registration email                           | YES    | -                                                                                                                                                                  |
| Login                | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
|                      | Try signing in with registered account                                                  | User can sign in with registered account              | YES    | -                                                                                                                                                                  |
|                      | Try signing in with account that doesn't exist                                           | User receives note that username or password is incorrect | YES  | -                                                                                                                                                                  |
| Log out              | Try signing out                                                                        | User can sign out                                      | YES    | -                                                                                                                                                                  |
| Wishlist             | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
| Add product to wishlist | Try adding products to wishlist as a signed-in user                                   | Products are added to wishlist                        | YES    | -                                                                                                                                                                  |
| Remove btn           | Try removing products from wishlist                                                     | Removed wishlist item from wishlist                   | YES    | -                                                                                                                                                                  |
| Q&A                  | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
| Contact form-inputs | Try entering correct/incorrect information                                             | Fields work as expected                                | YES    | -                                                                                                                                                                  |
| Auto-reply           | Check email for auto-reply                                                             | User receives auto-reply and toast message            | YES    | -                                                                                                                                                                  |
| Admin interface      | Login to admin and check contacts tab for messages                                      | Admin panel displays contact messages                  | YES    | -                                                                                                                                                                  |
| Product Management   | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
| Input fields         | Test fields in add/edit product                                                        | Works as expected                                      | YES    | -                                                                                                                                                                  |
| Add product form     | Try entering correct/incorrect information in fields                                   | Products can be added                                  | YES    | -                                                                                                                                                                  |
| Add product          | Try adding product                                                                     | Product is added and displayed in product page        | YES    | -                                                                                                                                                                  |
| Edit product         | Click edit product in product view and product detail view                              | Redirects to edit product view                        | YES    | -                                                                                                                                                                  |
| Delete product       | Try deleting product                                                                   | Product is deleted after user has confirmed action; User receives toast message | YES  | -                                                                                                                                                                  |
| My Profile           | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
| Input fields         | -                                                                                       | Works as expected                                      | YES    | The input fields are not sensitive to what kind of information is added to fields                                                                                 |
| Instance prefilled   | Try updating in checkout and my profile form and see if information has been updated    | If user information has been entered in checkout form, the instances are prefilled with information | YES | -                                                                                                                                                                  |
| Order history        | Buy a product and check if order history is saved to my profile                        | Check save info box; Order history is displayed and has correct values | YES  | -                                                                                                                                                                  |
| Order number-link    | Check if link in order history works                                                  | Link will show order information                       | YES    | -                                                                                                                                                                  |
| Basket               | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
| Qty input            | Try adding product to basket; Try adding less than 1 product to basket; Try adding over 99 products to basket | Qty can be updated and buttons are disabled and can't go under 1 or over 99 | YES  | User can still add products over 99 by writing any number; the button is disabled                                                                                |
| Update/remove-links  | Try changing quantity and updating quantity; Try remove link                           | Removes and updates basket                             | YES    | -                                                                                                                                                                  |
| Keep shopping btn    | Click button                                                                           | User is directed to products page                      | YES    | -                                                                                                                                                                  |
| Secure checkout btn  | Click button                                                                           | User is directed to checkout form                      | YES    | -                                                                                                                                                                  |
| Checkout             | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
| Checkout form        | -                                                                                       | -                                                        | -      | -                                                                                                                                                                  |
| Input fields         | Try submitting form with valid/invalid information                                     | Works as expected                                      | YES    | The input fields are not sensitive to what kind of information is added to fields                                                                                 |
| Save information check btn | Check save info and see if order history is saved to my profile                     | Saves information to user profile                      | YES    | -                                                                                                                                                                  |
| Complete order btn   | Try buying products; Check Stripe for confirmation; User will receive auto-reply      | Stripe is called


### User Stories Testing
| Issue nr | Epic             | Criteria                                                                                                                          | Accepted |
|----------|------------------|-----------------------------------------------------------------------------------------------------------------------------------|----------|
| 15       | Products         | Have a search field where user can search for specific products                                                                    | YES      |
| 14       | Basket           | The user is able to store items in shopping cart session                                                                           | YES      |
| 3        | account          | "The user is able to enter shipping information<br>The user should be able to store information in profile<br>Checkout form should be pre-filled if shipping information is saved to user" | YES      |
| 8        | Products         | User can filter through projects by category, price, a-z                                                                          | YES      |
| 7        | Account          | "User can view shipping information after checkout.<br>User can save order history to profile<br>User will receive auto-reply with order and shipping information" | YES      |
| 6        | Basket           | User can delete items in shopping cart                                                                                            | YES      |
| 11       | Account          | "User can contact the company via contact form on the website<br>Message is saved to database<br>User will receive auto-reply"    | YES      |
| 16       | Products         | Add field that checks if order should be sent as a gift<br>Add product such as wrapping, gift card etc..                        | NO       |
| 17       | Products         | User has a multiple of pots to choose from<br>User has several maintenance products to choose form                                | NO       |
| 18       | Products         | Have a section before checkout with suggested products                                                                            | NO       |
| 12       | Marketing        | User can visit Facebook page                                                                                                      | YES      |
| 13       | Products         | "User can filter product by plant needs<br>Several filters for plants are displayed on website<br>Plants has been categorized after needs" | NO       |
| 9        | Active response  | "User can navigate between pages<br>User actions are met with appropriate toast messages"                                        | YES      |

## Project Bugs and Solutions:
#### Saving information to user profile

There has been an issue with saving information to user profiles. The profile is saved and contains the correct information but when the form is prefilled with information it is added as a tulpe. If the fields are not cleared the tulpe will become a tulpe inside another tulpe and so on. This problem does not occur every time so it has been really hard to find the key to this error. I have printed out the information in the terminal to see what was saved to the database and it contains the right values. I also created a new database and remigrated all models to the new database. For some reason this error will still pop up sometimes. The solution to this problem would be to further investigate the code, because there is not anything wrong with the database as I have tested to use index to get only a part of the value in the input fields. This would fetch the correct information according to the index, but the information would still be inside a tulpe.

Status: Unsolved

<details>
<summary>Bug</summary>

![Bug documentation](/docs/readme/readme_images/profile-bug.png)
</details>

#### Django Countries
I have a second bug that is thought to be related to the first bug. As Django Countries only accepts 2 characters inside the field. These would create big problems while going through checkout because the intent_success function would not work because the country field is too long. Like previously mentioned it is probably related to the first bug but for the code to work I choose to take out the Country field so the information will not be saved from the form. With this code left out everything worked fine.

Status: Temporarily fix, Unsolved

#### My profile links on Edit product view
For some reason two otherwise working links to Add Product and My Profile stop working while on Edit Product view. This is really weird because the links are working on any other page and it is the same nav. 

Status: Under investigation

### Browser Testing
Project has been tested with
- Chrome
- Mozilla Firefox
- Safari
For some reason there were a few product images that weren't displayed. Other than that I did not find any errors.

### Lighthouse Report

![Lighthouse](/docs/readme/lighthouse.png)

### Responsiveness
Responsiveness has been tested without significant flaws. However, there have been some issues with the footer floating into the text content. The cause of this issue is not entirely clear. Since this project was based on the Boutique Ado project from Code Institute, there may be some issues arising from modifications made to the code. It seems that there is a problem with the height of the project, which leads to issues when adjusting the footer. I attempted to add CSS classes such as position: fixed or absolute, but both classes interfered with the main content and overlapped it. Although the issue was fixed, on very large screens, the footer still places itself directly under the content. This is more of a design flaw and does not disrupt the overall functionality.

### Real World Device Testing
Project has been tested on following devices without any issues
- MacBook Air
- Samsung Galaxy S21
- ASUS HDMI MHL VX239



